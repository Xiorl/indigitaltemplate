<?php

/**
 * Generated by the WordPress Meta Box Generator
 * https://jeremyhixon.com/tool/wordpress-meta-box-generator/
 * 
 * Retrieving the values:
 * terrace_switch = get_post_meta( get_the_ID(), 'amenities_terrace_switch', true )
 * crossfit_circuit_switch = get_post_meta( get_the_ID(), 'amenities_crossfit_circuit_switch', true )
 * rappelling_wall_switch = get_post_meta( get_the_ID(), 'amenities_rappelling_wall_switch', true )
 * theater_switch = get_post_meta( get_the_ID(), 'amenities_theater_switch', true )
 * rest_area_switch = get_post_meta( get_the_ID(), 'amenities_rest_area_switch', true )
 * paddel_switch = get_post_meta( get_the_ID(), 'amenities_paddel_switch', true )
 * jogger_switch = get_post_meta( get_the_ID(), 'amenities_jogger_switch', true )
 * spot_for_photos_switch = get_post_meta( get_the_ID(), 'amenities_spot_for_photos_switch', true )
 * sundeck_switch = get_post_meta( get_the_ID(), 'amenities_sundeck_switch', true )
 * swings_with_overlooking_switch = get_post_meta( get_the_ID(), 'amenities_swings_with_overlooking_switch', true )
 * swim_lane_switch = get_post_meta( get_the_ID(), 'amenities_swim_lane_switch', true )
 * outdoor_exerciser_switch = get_post_meta( get_the_ID(), 'amenities_outdoor_exerciser_switch', true )
 * ping_pong_table_switch = get_post_meta( get_the_ID(), 'amenities_ping_pong_table_switch', true )
 * jumper_switch = get_post_meta( get_the_ID(), 'amenities_jumper_switch', true )
 * climbing_wall_switch = get_post_meta( get_the_ID(), 'amenities_climbing_wall_switch', true )
 * skate_park_switch = get_post_meta( get_the_ID(), 'amenities_skate_park_switch', true )
 * multiple_tables_switch = get_post_meta( get_the_ID(), 'amenities_multiple_tables_switch', true )
 * walkers_switch = get_post_meta( get_the_ID(), 'amenities_walkers_switch', true )
 * yoga_area_switch = get_post_meta( get_the_ID(), 'amenities_yoga_area_switch', true )
 * techonology_and_ecotechnology_switch = get_post_meta( get_the_ID(), 'amenities_techonology_and_ecotechnology_switch', true )
 * jacuzzi_switch = get_post_meta( get_the_ID(), 'amenities_jacuzzi_switch', true )
 * agora_theater_switch = get_post_meta( get_the_ID(), 'amenities_agora_theater_switch', true )
 * clubhouse_livingroom_kitchen_stoveoven_switch = get_post_meta( get_the_ID(), 'amenities_clubhouse_livingroom_kitchen_stoveoven_switch', true )
 * giant_chess_switch = get_post_meta( get_the_ID(), 'amenities_giant_chess_switch', true )
 * semi_olympic_pool_switch = get_post_meta( get_the_ID(), 'amenities_semi_olympic_pool_switch', true )
 * fishing_switch = get_post_meta( get_the_ID(), 'amenities_fishing_switch', true )
 * beach_club_switch = get_post_meta( get_the_ID(), 'amenities_beach_club_switch', true )
 * party_boat_switch = get_post_meta( get_the_ID(), 'amenities_party_boat_switch', true )
 * water_activities_switch = get_post_meta( get_the_ID(), 'amenities_water_activities_switch', true )
 * stokers_switch = get_post_meta( get_the_ID(), 'amenities_stokers_switch', true )
 * pier_switch = get_post_meta( get_the_ID(), 'amenities_pier_switch', true )
 * palapas_switch = get_post_meta( get_the_ID(), 'amenities_palapas_switch', true )
 * volleyball_court_switch = get_post_meta( get_the_ID(), 'amenities_volleyball_court_switch', true )
 * miniature_golf_switch = get_post_meta( get_the_ID(), 'amenities_miniature_golf_switch', true )
 * event_room_switch = get_post_meta( get_the_ID(), 'amenities_event_room_switch', true )
 * elevator_switch = get_post_meta( get_the_ID(), 'amenities_elevator_switch', true )
 * terrace_for_events_switch = get_post_meta( get_the_ID(), 'amenities_terrace_for_events_switch', true )
 * roof_garden_switch = get_post_meta( get_the_ID(), 'amenities_roof_garden_switch', true )
 * co_working_switch = get_post_meta( get_the_ID(), 'amenities_co_working_switch', true )
 * independent_access_switch = get_post_meta( get_the_ID(), 'amenities_independent_access_switch', true )
 * soccer_field_switch = get_post_meta( get_the_ID(), 'amenities_soccer_field_switch', true )
 * jogging_track_switch = get_post_meta( get_the_ID(), 'amenities_jogging_track_switch', true )
 * track_carts_skates_switch = get_post_meta( get_the_ID(), 'amenities_track_carts_skates_switch', true )
 * hammock_switch = get_post_meta( get_the_ID(), 'amenities_hammock_switch', true )
 * sports_field_switch = get_post_meta( get_the_ID(), 'amenities_sports_field_switch', true )
 * wading_pool_switch = get_post_meta( get_the_ID(), 'amenities_wading_pool_switch', true )
 * green_areas_switch = get_post_meta( get_the_ID(), 'amenities_green_areas_switch', true )
 * grill_area_switch = get_post_meta( get_the_ID(), 'amenities_grill_area_switch', true )
 * gym_switch = get_post_meta( get_the_ID(), 'amenities_gym_switch', true )
 * kids_games_switch = get_post_meta( get_the_ID(), 'amenities_kids_games_switch', true )
 * pool_switch = get_post_meta( get_the_ID(), 'amenities_pool_switch', true )
 * clubhouse_switch = get_post_meta( get_the_ID(), 'amenities_clubhouse_switch', true )
 * exercisers_area_switch = get_post_meta( get_the_ID(), 'amenities_exercisers_area_switch', true )
 * dog_park_switch = get_post_meta( get_the_ID(), 'amenities_dog_park_switch', true )
 * controlled_access_switch = get_post_meta( get_the_ID(), 'amenities_controlled_access_switch', true )
 * park_switch = get_post_meta( get_the_ID(), 'amenities_park_switch', true )
 * side_aisle_switch = get_post_meta( get_the_ID(), 'amenities_side_aisle_switch', true )
 * tv_room_switch = get_post_meta( get_the_ID(), 'amenities_tv_room_switch', true )
 * bathroom_dressing_room_switch = get_post_meta( get_the_ID(), 'amenities_bathroom_dressing_room_switch', true )
 * bar_area_switch = get_post_meta( get_the_ID(), 'amenities_bar_area_switch', true )
 * service_room_switch = get_post_meta( get_the_ID(), 'amenities_service_room_switch', true )
 * walkin_closet_switch = get_post_meta( get_the_ID(), 'amenities_walkin_closet_switch', true )
 * dinning_room_switch = get_post_meta( get_the_ID(), 'amenities_dinning_room_switch', true )
 * washing_area_switch = get_post_meta( get_the_ID(), 'amenities_washing_area_switch', true )
 * private_bathroom_switch = get_post_meta( get_the_ID(), 'amenities_private_bathroom_switch', true )
 * solar_heater_switch = get_post_meta( get_the_ID(), 'amenities_solar_heater_switch', true )
 * study_room_switch = get_post_meta( get_the_ID(), 'amenities_study_room_switch', true )
 * solar_panel_switch = get_post_meta( get_the_ID(), 'amenities_solar_panel_switch', true )
 * covered_area_switch = get_post_meta( get_the_ID(), 'amenities_covered_area_switch', true )
 * terrace_level_switch = get_post_meta( get_the_ID(), 'amenities_terrace_level_switch', true )
 * breakfast_area_switch = get_post_meta( get_the_ID(), 'amenities_breakfast_area_switch', true )
 * back_terrace_switch = get_post_meta( get_the_ID(), 'amenities_back_terrace_switch', true )
 * multiple_living_switch = get_post_meta( get_the_ID(), 'amenities_multiple_living_switch', true )
 * visitor_parking_switch = get_post_meta( get_the_ID(), 'amenities_visitor_parking_switch', true )
 */
class amenities {
	private $config = '{"title":"amenities","prefix":"amenities_","domain":"amenities","class_name":"amenities","post-type":["desarrollos"],"context":"normal","priority":"low","fields":[{"type":"checkbox","label":"terrace_switch","description":"Terraza","id":"amenities_terrace_switch"},{"type":"checkbox","label":"crossfit_circuit_switch","description":"Circuito de crossfit","id":"amenities_crossfit_circuit_switch"},{"type":"checkbox","label":"rappelling_wall_switch","description":" Muro Rapel","id":"amenities_rappelling_wall_switch"},{"type":"checkbox","label":"theater_switch","description":"Teatro","id":"amenities_theater_switch"},{"type":"checkbox","label":"rest_area_switch","description":" \u00c1rea de descanso","id":"amenities_rest_area_switch"},{"type":"checkbox","label":"paddel_switch","description":"Padel","id":"amenities_paddel_switch"},{"type":"checkbox","label":"jogger_switch","description":"Trotapista","id":"amenities_jogger_switch"},{"type":"checkbox","label":"spot_for_photos_switch","description":"Spot para fotos","id":"amenities_spot_for_photos_switch"},{"type":"checkbox","label":"sundeck_switch","description":"Asoleadero","id":"amenities_sundeck_switch"},{"type":"checkbox","label":"swings_with_overlooking_switch","description":"Columpios con vista al canal de navegaci\u00f3n","id":"amenities_swings_with_overlooking_switch"},{"type":"checkbox","label":"swim_lane_switch","description":"Carril de nado","id":"amenities_swim_lane_switch"},{"type":"checkbox","label":"outdoor_exerciser_switch","description":"Ejercitador al aire libre","id":"amenities_outdoor_exerciser_switch"},{"type":"checkbox","label":"ping_pong_table_switch","description":"Mesa Ping Pong","id":"amenities_ping_pong_table_switch"},{"type":"checkbox","label":"jumper_switch","description":"Brincol\u00edn","id":"amenities_jumper_switch"},{"type":"checkbox","label":"climbing_wall_switch","description":"Muro de escalar","id":"amenities_climbing_wall_switch"},{"type":"checkbox","label":"skate_park_switch","description":"Skate park","id":"amenities_skate_park_switch"},{"type":"checkbox","label":"multiple_tables_switch","description":"Mesas m\u00faltiples","id":"amenities_multiple_tables_switch"},{"type":"checkbox","label":"walkers_switch","description":"Andadores","id":"amenities_walkers_switch"},{"type":"checkbox","label":"yoga_area_switch","description":"\u00c1rea de Yoga","id":"amenities_yoga_area_switch"},{"type":"checkbox","label":"techonology_and_ecotechnology_switch","description":"Tecnolog\u00eda y Ecotecnolog\u00eda","id":"amenities_techonology_and_ecotechnology_switch"},{"type":"checkbox","label":"jacuzzi_switch","description":"Jacuzzi","id":"amenities_jacuzzi_switch"},{"type":"checkbox","label":"agora_theater_switch","description":"\u00c1gora, Cine bajo las Estrellas","id":"amenities_agora_theater_switch"},{"type":"checkbox","label":"clubhouse_livingroom_kitchen_stoveoven_switch","description":"Casa Club con Sala, Cocina y Horno de Piedra","id":"amenities_clubhouse_livingroom_kitchen_stoveoven_switch"},{"type":"checkbox","label":"giant_chess_switch","description":"Ajedrez Gigante","id":"amenities_giant_chess_switch"},{"type":"checkbox","label":"semi_olympic_pool_switch","description":"Alberca Semi-Olimpica","id":"amenities_semi_olympic_pool_switch"},{"type":"checkbox","label":"fishing_switch","description":"Pesca","id":"amenities_fishing_switch"},{"type":"checkbox","label":"beach_club_switch","description":"Club de Playa","id":"amenities_beach_club_switch"},{"type":"checkbox","label":"party_boat_switch","description":"Party Boat","id":"amenities_party_boat_switch"},{"type":"checkbox","label":"water_activities_switch","description":"Actividades Acu\u00e1ticas","id":"amenities_water_activities_switch"},{"type":"checkbox","label":"stokers_switch","description":"Fogateros","id":"amenities_stokers_switch"},{"type":"checkbox","label":"pier_switch","description":"Embarcadero","id":"amenities_pier_switch"},{"type":"checkbox","label":"palapas_switch","description":"Palapas","id":"amenities_palapas_switch"},{"type":"checkbox","label":"volleyball_court_switch","description":"Cancha de Voleibol","id":"amenities_volleyball_court_switch"},{"type":"checkbox","label":"miniature_golf_switch","description":"Golfito","id":"amenities_miniature_golf_switch"},{"type":"checkbox","label":"event_room_switch","description":"Sal\u00f3n para Eventos","id":"amenities_event_room_switch"},{"type":"checkbox","label":"elevator_switch","description":"Elevador","id":"amenities_elevator_switch"},{"type":"checkbox","label":"terrace_for_events_switch","description":" Terraza para Eventos","id":"amenities_terrace_for_events_switch"},{"type":"checkbox","label":"roof_garden_switch","description":"Roof Garden","id":"amenities_roof_garden_switch"},{"type":"checkbox","label":"co_working_switch","description":"Co working","id":"amenities_co_working_switch"},{"type":"checkbox","label":"independent_access_switch","description":"Acceso Independiente a Privadas","id":"amenities_independent_access_switch"},{"type":"checkbox","label":"soccer_field_switch","description":"Cancha de F\u00fatbol","id":"amenities_soccer_field_switch"},{"type":"checkbox","label":"jogging_track_switch","description":" Pista de Jogging","id":"amenities_jogging_track_switch"},{"type":"checkbox","label":"track_carts_skates_switch","description":"Pista para Carritos y Patines","id":"amenities_track_carts_skates_switch"},{"type":"checkbox","label":"hammock_switch","description":"Hamaquero","id":"amenities_hammock_switch"},{"type":"checkbox","label":"sports_field_switch","description":"Cancha Deportiva","id":"amenities_sports_field_switch"},{"type":"checkbox","label":"wading_pool_switch","description":"Chapoteadero","id":"amenities_wading_pool_switch"},{"type":"checkbox","label":"green_areas_switch","description":"\u00c1reas Verdes","id":"amenities_green_areas_switch"},{"type":"checkbox","label":"grill_area_switch","description":" \u00c1rea de Asadores","id":"amenities_grill_area_switch"},{"type":"checkbox","label":"gym_switch","description":"Gimnasio","id":"amenities_gym_switch"},{"type":"checkbox","label":"kids_games_switch","description":" Juegos Infantiles","id":"amenities_kids_games_switch"},{"type":"checkbox","label":"pool_switch","description":"Alberca","id":"amenities_pool_switch"},{"type":"checkbox","label":"clubhouse_switch","description":"Casa Club","id":"amenities_clubhouse_switch"},{"type":"checkbox","label":"exercisers_area_switch","description":" \u00c1rea de Ejercitadores","id":"amenities_exercisers_area_switch"},{"type":"checkbox","label":"dog_park_switch","description":"Dog park","id":"amenities_dog_park_switch"},{"type":"checkbox","label":"controlled_access_switch","description":"Acceso Controlado","id":"amenities_controlled_access_switch"},{"type":"checkbox","label":"park_switch","description":"Parque","id":"amenities_park_switch"},{"type":"checkbox","label":"side_aisle_switch","description":"Pasillo lateral","id":"amenities_side_aisle_switch"},{"type":"checkbox","label":"tv_room_switch","description":"Sala TV","id":"amenities_tv_room_switch"},{"type":"checkbox","label":"bathroom_dressing_room_switch","description":"Ba\u00f1o Vestidor","id":"amenities_bathroom_dressing_room_switch"},{"type":"checkbox","label":"bar_area_switch","description":"\u00c1rea bar","id":"amenities_bar_area_switch"},{"type":"checkbox","label":"service_room_switch","description":"Cuarto de servicio","id":"amenities_service_room_switch"},{"type":"checkbox","label":"walkin_closet_switch","description":"Closet vestidor","id":"amenities_walkin_closet_switch"},{"type":"checkbox","label":"dinning_room_switch","description":" Antecomedor","id":"amenities_dinning_room_switch"},{"type":"checkbox","label":"washing_area_switch","description":" \u00c1rea lavado","id":"amenities_washing_area_switch"},{"type":"checkbox","label":"private_bathroom_switch","description":"Ba\u00f1o privado","id":"amenities_private_bathroom_switch"},{"type":"checkbox","label":"solar_heater_switch","description":"Calentador Solar","id":"amenities_solar_heater_switch"},{"type":"checkbox","label":"study_room_switch","description":"Sala estudio","id":"amenities_study_room_switch"},{"type":"checkbox","label":"solar_panel_switch","description":" Panel Solar","id":"amenities_solar_panel_switch"},{"type":"checkbox","label":"covered_area_switch","description":"\u00c1rea techada","id":"amenities_covered_area_switch"},{"type":"checkbox","label":"terrace_level_switch","description":"Nivel Terraza","id":"amenities_terrace_level_switch"},{"type":"checkbox","label":"breakfast_area_switch","description":"Desayunador","id":"amenities_breakfast_area_switch"},{"type":"checkbox","label":"back_terrace_switch","description":"Terraza posterior","id":"amenities_back_terrace_switch"},{"type":"checkbox","label":"multiple_living_switch","description":" Sal\u00f3n m\u00faltiple","id":"amenities_multiple_living_switch"},{"type":"checkbox","label":"visitor_parking_switch","description":"Estacionamiento para visitas","id":"amenities_visitor_parking_switch"}]}';

	public function __construct() {
		$this->config = json_decode( $this->config, true );
		add_action( 'add_meta_boxes', [ $this, 'add_meta_boxes' ] );
		add_action( 'admin_head', [ $this, 'admin_head' ] );
		add_action( 'save_post', [ $this, 'save_post' ] );
	}

	public function add_meta_boxes() {
		foreach ( $this->config['post-type'] as $screen ) {
			add_meta_box(
				sanitize_title( $this->config['title'] ),
				$this->config['title'],
				[ $this, 'add_meta_box_callback' ],
				$screen,
				$this->config['context'],
				$this->config['priority']
			);
		}
	}

	public function admin_head() {
		global $typenow;
		if ( in_array( $typenow, $this->config['post-type'] ) ) {
			?><?php
		}
	}

	public function save_post( $post_id ) {
		foreach ( $this->config['fields'] as $field ) {
			switch ( $field['type'] ) {
				case 'checkbox':
					update_post_meta( $post_id, $field['id'], isset( $_POST[ $field['id'] ] ) ? $_POST[ $field['id'] ] : '' );
					break;
				default:
					if ( isset( $_POST[ $field['id'] ] ) ) {
						$sanitized = sanitize_text_field( $_POST[ $field['id'] ] );
						update_post_meta( $post_id, $field['id'], $sanitized );
					}
			}
		}
	}

	public function add_meta_box_callback() {
		$this->fields_table();
	}

	private function fields_table() {
		?><table class="form-table" role="presentation">
			<tbody><?php
				foreach ( $this->config['fields'] as $field ) {
					?><tr>
						<th scope="row"><?php $this->label( $field ); ?></th>
						<td><?php $this->field( $field ); ?></td>
					</tr><?php
				}
			?></tbody>
		</table><?php
	}

	private function label( $field ) {
		switch ( $field['type'] ) {
			default:
				printf(
					'<label class="" for="%s">%s</label>',
					$field['id'], $field['label']
				);
		}
	}

	private function field( $field ) {
		switch ( $field['type'] ) {
			case 'checkbox':
				$this->checkbox( $field );
				break;
			default:
				$this->input( $field );
		}
	}

	private function checkbox( $field ) {
		printf(
			'<label class="rwp-checkbox-label"><input %s id="%s" name="%s" type="checkbox"> %s</label>',
			$this->checked( $field ),
			$field['id'], $field['id'],
			isset( $field['description'] ) ? $field['description'] : ''
		);
	}

	private function input( $field ) {
		printf(
			'<input class="regular-text %s" id="%s" name="%s" %s type="%s" value="%s">',
			isset( $field['class'] ) ? $field['class'] : '',
			$field['id'], $field['id'],
			isset( $field['pattern'] ) ? "pattern='{$field['pattern']}'" : '',
			$field['type'],
			$this->value( $field )
		);
	}

	private function value( $field ) {
		global $post;
		if ( metadata_exists( 'post', $post->ID, $field['id'] ) ) {
			$value = get_post_meta( $post->ID, $field['id'], true );
		} else if ( isset( $field['default'] ) ) {
			$value = $field['default'];
		} else {
			return '';
		}
		return str_replace( '\u0027', "'", $value );
	}

	private function checked( $field ) {
		global $post;
		if ( metadata_exists( 'post', $post->ID, $field['id'] ) ) {
			$value = get_post_meta( $post->ID, $field['id'], true );
			if ( $value === 'on' ) {
				return 'checked';
			}
			return '';
		} else if ( isset( $field['checked'] ) ) {
			return 'checked';
		}
		return '';
	}
}
new amenities;

?>